{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { debounce } from 'lodash';\n\nfunction useDebounce(value, delay) {\n  if (delay === void 0) {\n    delay = 300;\n  }\n\n  var _a = useState(value),\n      debounceValue = _a[0],\n      setDebounceValue = _a[1];\n\n  useEffect(function () {\n    // 方式一\n    var handler = debounce(function (v) {\n      setDebounceValue(v);\n    }, delay, {\n      leading: false,\n      trailing: true\n    });\n    handler(value);\n    return handler.cancel;\n  }, [value, delay]); // 方式二\n  // useEffect(() => {\n  //   const handler = setTimeout(() => {\n  //     setDebounceValue(value)\n  //   }, delay)\n  //   return () => window.clearTimeout(handler)\n  // }, [value, delay])\n\n  return debounceValue;\n}\n\nexport default useDebounce;","map":{"version":3,"sources":["/Users/theerapatkangsilalai/Desktop/my-first-app/node_modules/style-components/dist/hooks/useDebounce.js"],"names":["useEffect","useState","debounce","useDebounce","value","delay","_a","debounceValue","setDebounceValue","handler","v","leading","trailing","cancel"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,QAAzB;;AACA,SAASC,WAAT,CAAqBC,KAArB,EAA4BC,KAA5B,EAAmC;AAC/B,MAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,IAAAA,KAAK,GAAG,GAAR;AAAc;;AACtC,MAAIC,EAAE,GAAGL,QAAQ,CAACG,KAAD,CAAjB;AAAA,MAA0BG,aAAa,GAAGD,EAAE,CAAC,CAAD,CAA5C;AAAA,MAAiDE,gBAAgB,GAAGF,EAAE,CAAC,CAAD,CAAtE;;AACAN,EAAAA,SAAS,CAAC,YAAY;AAClB;AACA,QAAIS,OAAO,GAAGP,QAAQ,CAAC,UAAUQ,CAAV,EAAa;AAChCF,MAAAA,gBAAgB,CAACE,CAAD,CAAhB;AACH,KAFqB,EAEnBL,KAFmB,EAEZ;AAAEM,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,QAAQ,EAAE;AAA5B,KAFY,CAAtB;AAGAH,IAAAA,OAAO,CAACL,KAAD,CAAP;AACA,WAAOK,OAAO,CAACI,MAAf;AACH,GAPQ,EAON,CAACT,KAAD,EAAQC,KAAR,CAPM,CAAT,CAH+B,CAW/B;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAOE,aAAP;AACH;;AACD,eAAeJ,WAAf","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { debounce } from 'lodash';\r\nfunction useDebounce(value, delay) {\r\n    if (delay === void 0) { delay = 300; }\r\n    var _a = useState(value), debounceValue = _a[0], setDebounceValue = _a[1];\r\n    useEffect(function () {\r\n        // 方式一\r\n        var handler = debounce(function (v) {\r\n            setDebounceValue(v);\r\n        }, delay, { leading: false, trailing: true });\r\n        handler(value);\r\n        return handler.cancel;\r\n    }, [value, delay]);\r\n    // 方式二\r\n    // useEffect(() => {\r\n    //   const handler = setTimeout(() => {\r\n    //     setDebounceValue(value)\r\n    //   }, delay)\r\n    //   return () => window.clearTimeout(handler)\r\n    // }, [value, delay])\r\n    return debounceValue;\r\n}\r\nexport default useDebounce;\r\n"]},"metadata":{},"sourceType":"module"}