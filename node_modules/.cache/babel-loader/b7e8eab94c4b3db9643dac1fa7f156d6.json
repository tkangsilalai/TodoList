{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useRef, useState } from 'react';\nimport UploadList from './UploadList';\nimport Dragger from './Dragger';\nimport axios from 'axios';\nexport var Upload = function (props) {\n  var action = props.action,\n      defaultFileList = props.defaultFileList,\n      beforeUpload = props.beforeUpload,\n      onError = props.onError,\n      onProgress = props.onProgress,\n      onSuccess = props.onSuccess,\n      onChange = props.onChange,\n      onRemove = props.onRemove,\n      children = props.children,\n      drag = props.drag,\n      accept = props.accept,\n      multiple = props.multiple,\n      name = props.name,\n      headers = props.headers,\n      data = props.data,\n      withCredentials = props.withCredentials;\n  var fileInput = useRef(null);\n\n  var _a = useState(defaultFileList || []),\n      fileList = _a[0],\n      setFileList = _a[1];\n\n  var handleClick = function () {\n    if (fileInput.current) {\n      fileInput.current.click();\n    }\n  };\n\n  var handleFileChange = function (e) {\n    var files = e.target.files;\n    if (!files) return;\n    uploadFiles(files);\n\n    if (fileInput.current) {\n      fileInput.current.value = '';\n    }\n  };\n\n  var uploadFiles = function (files) {\n    var postFiles = Array.from(files);\n    postFiles.forEach(function (file) {\n      if (!beforeUpload) {\n        post(file);\n      } else {\n        var result = beforeUpload(file);\n\n        if (result && result instanceof Promise) {\n          result.then(function (processedFile) {\n            post(processedFile);\n          });\n        } else if (result !== false) {\n          post(file);\n        }\n      }\n    });\n  };\n\n  var updateFileList = function (updateFile, updateObj) {\n    setFileList(function (prevFile) {\n      return prevFile.map(function (file) {\n        return file.uid === updateFile.uid ? __assign(__assign({}, file), updateObj) : file;\n      });\n    });\n  };\n\n  var handleRemove = function (file) {\n    setFileList(function (prevList) {\n      return prevList.filter(function (item) {\n        return item.uid !== file.uid;\n      });\n    });\n    if (onRemove) onRemove(file);\n  };\n\n  var post = function (file) {\n    var _file = {\n      uid: Date.now() + 'upload-file',\n      status: 'ready',\n      name: file.name,\n      size: file.size,\n      percent: 0,\n      raw: file\n    };\n    setFileList(function (prevList) {\n      return __spreadArray([_file], prevList);\n    });\n    var formData = new FormData();\n    formData.append(name || 'file', file);\n\n    if (data) {\n      Object.keys(data).forEach(function (key) {\n        formData.append(key, data[key]);\n      });\n    }\n\n    axios.post(action, formData, {\n      timeout: 30 * 1000,\n      headers: __assign(__assign({}, headers), {\n        'Content-Type': 'multipart/form-data'\n      }),\n      withCredentials: withCredentials,\n      onUploadProgress: function (e) {\n        var percentage = Math.round(e.loaded * 100 / e.total) || 0;\n\n        if (percentage < 100) {\n          updateFileList(_file, {\n            percent: percentage,\n            status: 'uploading'\n          });\n          if (onProgress) onProgress(percentage, file);\n        }\n      }\n    }).then(function (res) {\n      updateFileList(_file, {\n        status: 'success',\n        response: res.data\n      });\n      if (onSuccess) onSuccess(res.data, file);\n      if (onChange) onChange(file);\n    }).catch(function (err) {\n      updateFileList(_file, {\n        status: 'error',\n        error: err\n      });\n\n      if (onError) {\n        onError(err, file);\n      }\n\n      if (onChange) {\n        onChange(file);\n      }\n    });\n  };\n\n  return _jsxs(\"div\", __assign({\n    className: \"g-upload-component\"\n  }, {\n    children: [_jsxs(\"div\", __assign({\n      className: \"g-upload-input\",\n      style: {\n        display: 'inline-block'\n      },\n      onClick: handleClick\n    }, {\n      children: [drag ? _jsx(Dragger, __assign({\n        onFile: function (files) {\n          return uploadFiles(files);\n        }\n      }, {\n        children: children\n      }), void 0) : children, _jsx(\"input\", {\n        className: \"g-file-input\",\n        style: {\n          display: 'none'\n        },\n        ref: fileInput,\n        onChange: handleFileChange,\n        type: \"file\",\n        accept: accept,\n        multiple: multiple\n      }, void 0)]\n    }), void 0), _jsx(UploadList, {\n      fileList: fileList,\n      onRemove: handleRemove\n    }, void 0)]\n  }), void 0);\n};\nUpload.defaultProps = {\n  name: 'file'\n};\nexport default Upload;","map":{"version":3,"sources":["/Users/theerapatkangsilalai/Desktop/my-first-app/node_modules/style-components/dist/components/Upload/Upload.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","il","j","jsx","_jsx","jsxs","_jsxs","useRef","useState","UploadList","Dragger","axios","Upload","props","action","defaultFileList","beforeUpload","onError","onProgress","onSuccess","onChange","onRemove","children","drag","accept","multiple","name","headers","data","withCredentials","fileInput","_a","fileList","setFileList","handleClick","current","click","handleFileChange","e","files","target","uploadFiles","value","postFiles","Array","forEach","file","post","result","Promise","then","processedFile","updateFileList","updateFile","updateObj","prevFile","map","uid","handleRemove","prevList","filter","item","_file","Date","now","status","size","percent","raw","formData","FormData","append","keys","key","timeout","onUploadProgress","percentage","Math","round","loaded","total","res","response","catch","err","error","className","style","display","onClick","onFile","ref","type","defaultProps"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { useRef, useState } from 'react';\r\nimport UploadList from './UploadList';\r\nimport Dragger from './Dragger';\r\nimport axios from 'axios';\r\nexport var Upload = function (props) {\r\n    var action = props.action, defaultFileList = props.defaultFileList, beforeUpload = props.beforeUpload, onError = props.onError, onProgress = props.onProgress, onSuccess = props.onSuccess, onChange = props.onChange, onRemove = props.onRemove, children = props.children, drag = props.drag, accept = props.accept, multiple = props.multiple, name = props.name, headers = props.headers, data = props.data, withCredentials = props.withCredentials;\r\n    var fileInput = useRef(null);\r\n    var _a = useState(defaultFileList || []), fileList = _a[0], setFileList = _a[1];\r\n    var handleClick = function () {\r\n        if (fileInput.current) {\r\n            fileInput.current.click();\r\n        }\r\n    };\r\n    var handleFileChange = function (e) {\r\n        var files = e.target.files;\r\n        if (!files)\r\n            return;\r\n        uploadFiles(files);\r\n        if (fileInput.current) {\r\n            fileInput.current.value = '';\r\n        }\r\n    };\r\n    var uploadFiles = function (files) {\r\n        var postFiles = Array.from(files);\r\n        postFiles.forEach(function (file) {\r\n            if (!beforeUpload) {\r\n                post(file);\r\n            }\r\n            else {\r\n                var result = beforeUpload(file);\r\n                if (result && result instanceof Promise) {\r\n                    result.then(function (processedFile) {\r\n                        post(processedFile);\r\n                    });\r\n                }\r\n                else if (result !== false) {\r\n                    post(file);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    var updateFileList = function (updateFile, updateObj) {\r\n        setFileList(function (prevFile) {\r\n            return prevFile.map(function (file) {\r\n                return file.uid === updateFile.uid ? __assign(__assign({}, file), updateObj) : file;\r\n            });\r\n        });\r\n    };\r\n    var handleRemove = function (file) {\r\n        setFileList(function (prevList) {\r\n            return prevList.filter(function (item) { return item.uid !== file.uid; });\r\n        });\r\n        if (onRemove)\r\n            onRemove(file);\r\n    };\r\n    var post = function (file) {\r\n        var _file = {\r\n            uid: Date.now() + 'upload-file',\r\n            status: 'ready',\r\n            name: file.name,\r\n            size: file.size,\r\n            percent: 0,\r\n            raw: file\r\n        };\r\n        setFileList(function (prevList) {\r\n            return __spreadArray([_file], prevList);\r\n        });\r\n        var formData = new FormData();\r\n        formData.append(name || 'file', file);\r\n        if (data) {\r\n            Object.keys(data).forEach(function (key) {\r\n                formData.append(key, data[key]);\r\n            });\r\n        }\r\n        axios\r\n            .post(action, formData, {\r\n            timeout: 30 * 1000,\r\n            headers: __assign(__assign({}, headers), { 'Content-Type': 'multipart/form-data' }),\r\n            withCredentials: withCredentials,\r\n            onUploadProgress: function (e) {\r\n                var percentage = Math.round((e.loaded * 100) / e.total) || 0;\r\n                if (percentage < 100) {\r\n                    updateFileList(_file, { percent: percentage, status: 'uploading' });\r\n                    if (onProgress)\r\n                        onProgress(percentage, file);\r\n                }\r\n            }\r\n        })\r\n            .then(function (res) {\r\n            updateFileList(_file, { status: 'success', response: res.data });\r\n            if (onSuccess)\r\n                onSuccess(res.data, file);\r\n            if (onChange)\r\n                onChange(file);\r\n        })\r\n            .catch(function (err) {\r\n            updateFileList(_file, { status: 'error', error: err });\r\n            if (onError) {\r\n                onError(err, file);\r\n            }\r\n            if (onChange) {\r\n                onChange(file);\r\n            }\r\n        });\r\n    };\r\n    return (_jsxs(\"div\", __assign({ className: \"g-upload-component\" }, { children: [_jsxs(\"div\", __assign({ className: \"g-upload-input\", style: { display: 'inline-block' }, onClick: handleClick }, { children: [drag ? (_jsx(Dragger, __assign({ onFile: function (files) { return uploadFiles(files); } }, { children: children }), void 0)) : (children),\r\n                    _jsx(\"input\", { className: \"g-file-input\", style: { display: 'none' }, ref: fileInput, onChange: handleFileChange, type: \"file\", accept: accept, multiple: multiple }, void 0)] }), void 0),\r\n            _jsx(UploadList, { fileList: fileList, onRemove: handleRemove }, void 0)] }), void 0));\r\n};\r\nUpload.defaultProps = {\r\n    name: 'file'\r\n};\r\nexport default Upload;\r\n"]},"metadata":{},"sourceType":"module"}